{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Persons.js","services/phonenumbers.js","components/Notification.js","App.js","index.js"],"names":["Filter","query","handleChange","value","onChange","PersonForm","handleAddName","name","number","handleChangeName","handleChangeNumber","onSubmit","type","Person","person","handleDelete","onClick","Persons","persons","map","id","baseUrl","axios","get","then","response","data","newObject","post","delete","put","Notification","message","style","color","background","fontSize","borderStyle","borderRadius","padding","marginBotton","className","App","useState","setPersons","newName","setNewName","newNumber","setNewNumber","newSearch","setNewSearch","errorMessage","setErrorMessage","useEffect","personService","initialPersons","setValue","e","target","personsToShow","filter","toLowerCase","includes","preventDefault","nameObject","length","foundPerson","find","window","confirm","returnedObject","setTimeout","catch","error","concat","ReactDOM","createRoot","document","getElementById","render"],"mappings":"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","file":"static/js/main.699917b1.chunk.js","sourcesContent":["const Filter = ({ query, handleChange }) => \r\n    <div>\r\n        filter shown with <input value={query} onChange={handleChange} />\r\n    </div>\r\n\r\nexport default Filter","const PersonForm = ({ handleAddName, name, number, handleChangeName, handleChangeNumber }) => {\r\n    return (\r\n    <form onSubmit={handleAddName}>\r\n      <div>\r\n        name: <input value={name} onChange={handleChangeName} />\r\n      </div>\r\n      <div>\r\n        number: <input value={number} onChange={handleChangeNumber} />\r\n      </div>\r\n      <div>\r\n        <button type=\"submit\">add</button>\r\n      </div>\r\n    </form>\r\n    )\r\n  }\r\n\r\nexport default PersonForm","const Person = ({ person, handleDelete }) => <li>{person.name} {person.number} <button onClick={handleDelete}>delete</button></li>\r\n\r\nconst Persons = ({ persons, handleDelete }) =>\r\n    <ul>\r\n        {persons.map(person => <Person key={person.id} person={person} handleDelete={handleDelete(person.id, person.name)} />)}\r\n    </ul>\r\n    \r\nexport default Persons","import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseUrl)\r\n    return request.then(response => response.data)\r\n  }\r\n  \r\n  const create = newObject => {\r\n    const request = axios.post(baseUrl, newObject)\r\n    return request.then(response => response.data)\r\n  }\r\n  \r\n  const remove = (id) => {\r\n    const request = axios.delete(`${baseUrl}/${id}`)\r\n    return request.then(response => response.data)\r\n  }\r\n\r\n  const update = (id, newObject) => {\r\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n    return request.then(response => response.data)\r\n  }\r\n  \r\n  export default { getAll, create, remove, update }","const Notification = ({ message }) => {\r\n    const notificationStyle = {\r\n            color: 'red',\r\n            background: 'lightgrey',\r\n            fontSize: 20,\r\n            borderStyle: 'solid',\r\n            borderRadius: 5,\r\n            padding: 10,\r\n            marginBotton: 10,\r\n    }\r\n    if (message === null) {\r\n        return null\r\n    }\r\n\r\n    return (\r\n        <div style={notificationStyle} className='error'>\r\n            {message}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Notification","import { useState, useEffect } from 'react'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport Persons from './components/Persons'\nimport personService from './services/phonenumbers'\nimport Notification from './components/Notification'\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [newSearch, setNewSearch] = useState('')\n  const [errorMessage, setErrorMessage] = useState(null)\n\n  useEffect(() => {\n    personService.getAll()\n      .then(initialPersons => {\n        setPersons(initialPersons)\n      })\n    }, [])\n\n  const addName = e => {\n    e.preventDefault()\n    const nameObject = {\n      name: newName,\n      id: persons.length + 1,\n      number: newNumber\n    }\n\n    const foundPerson = persons.find(person => person.name === nameObject.name)\n\n    if (foundPerson) {\n      if (window.confirm(`${nameObject.name} is already added to the phonebook, replace the old number with a new one?`)) {\n      personService.update(foundPerson.id, nameObject)\n        .then(returnedObject => {\n          setPersons(persons.map(person => person.id !== foundPerson.id ? person : returnedObject))\n          setErrorMessage(`Number of ${foundPerson.name} is changed`)\n          setTimeout(() => {\n            setErrorMessage(null)\n          }, 5000)\n        })\n        .catch(error => {\n          setErrorMessage(`${error.response.data.error}`)\n          setTimeout(() => {\n            setErrorMessage(null)\n          }, 5000)\n        })\n    }} else {\n      personService.create(nameObject)\n        .then(returnedObject => {\n          setPersons(persons.concat(returnedObject))\n        setErrorMessage(`Added ${newName}`)\n        setTimeout(() => {\n          setErrorMessage(null)\n        }, 5000)\n        setNewName('')\n        setNewNumber('')\n        setNewSearch('')\n    })\n      .catch(error => {\n        setErrorMessage(`${error.response.data.error}`)\n        setTimeout(() => {\n          setErrorMessage(null)\n        }, 5000)\n      })\n    }\n  }\n\n  const handleChange = setValue => e => setValue(e.target.value)\n\n  const handleRemove = (id, name) => () => {\n    if (window.confirm(`Delete ${name} ?`)) {\n    personService.remove(id)\n    .then(setPersons(persons.filter(person => person.name !== name)))\n    .catch(error => {\n      setErrorMessage(`Information of ${name} has already been removed from server`)\n      setTimeout(() => {\n        setErrorMessage(null)\n      }, 5000)\n      setPersons(persons.filter(person => person.name !== name))\n    })\n  }\n  }\n\n  const personsToShow = persons.filter(person =>person.name.toLowerCase().includes(newSearch))\n  \n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={errorMessage} />\n      <Filter query={newSearch} handleChange={handleChange(setNewSearch)} />\n\n      <h3>add a new</h3>\n\n      <PersonForm  handleAddName={addName} name={newName} number={newNumber} handleChangeName={handleChange(setNewName)} handleChangeNumber={handleChange(setNewNumber)}/>\n\n      <h3>Numbers</h3>\n\n      <Persons persons={personsToShow} handleDelete={handleRemove} />\n    </div>\n  )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom/client';\n\nimport App from './App';\n\nReactDOM.createRoot(document.getElementById('root')).render(<App />)\n"],"sourceRoot":""}